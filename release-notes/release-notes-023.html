<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Release Notes &#8212; FoundationDB 7.1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release Notes" href="release-notes-100.html" />
    <link rel="prev" title="Release Notes" href="release-notes-022.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          FoundationDB</a>
        <span class="navbar-text navbar-version pull-left"><b>7.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../contents.html">Site Map</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#beta-3">Beta 3</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#java">Java</a></li>
<li><a class="reference internal" href="#python">Python</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="release-notes-022.html" title="Previous Chapter: Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Release Notes</span>
    </a>
  </li>
  <li>
    <a href="release-notes-100.html" title="Next Chapter: Release Notes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Release Notes &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#beta-3">Beta 3</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#java">Java</a></li>
<li><a class="reference internal" href="#python">Python</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="release-notes">
<h1>Release Notes</h1>
<div class="section" id="beta-3">
<h2>Beta 3</h2>
<p>The Beta 3 release focuses on major improvements across our language APIs, including new capabilities for locality, watches, transaction cancellation and timeouts, explicit conflict ranges, and atomic operations. It also improves performance and removes known limitations.</p>
<div class="section" id="features">
<h3>Features</h3>
<ul class="simple">
<li>Discover where keys are physically stored using the new <a class="reference internal" href="../api-python.html#api-python-locality"><span class="std std-ref">locality</span></a> API.</li>
<li>Create <a class="reference internal" href="../api-python.html#api-python-watches"><span class="std std-ref">watches</span></a> that asynchronously report changes to the values of specified keys.</li>
<li><a class="reference internal" href="../api-python.html#api-python-cancel"><span class="std std-ref">Cancel</span></a> transactions or set them to automatically <a class="reference internal" href="../api-python.html#api-python-timeout"><span class="std std-ref">timeout</span></a> and cancel.</li>
<li>Explicitly add read or write <a class="reference internal" href="../api-python.html#api-python-conflict-ranges"><span class="std std-ref">conflict ranges</span></a>.</li>
<li>Perform <a class="reference internal" href="../api-python.html#api-python-transaction-atomic-operations"><span class="std std-ref">atomic operations</span></a> that transform a value (e.g. incrementing it) without client reads to avoid transaction conflicts.</li>
<li>API version updated to 23.</li>
</ul>
</div>
<div class="section" id="java">
<h3>Java</h3>
<p>Based on customer feedback and internal testing, the API has been significantly revised for increased performance and ease of use. This is a <strong>breaking</strong> API change. We will continue to make the previous JAR
available for the time being.</p>
<ul class="simple">
<li>The asynchronous programming library has been moved to its own package (<code class="docutils literal"><span class="pre">com.foundationdb.async</span></code>). The library has a host of new members for greater flexibility and more predictable error handling.</li>
<li><code class="docutils literal"><span class="pre">Database.run(...)</span></code> can now return an arbitrary object from user code, simplifying use of this recommended retry loop.</li>
<li>The new interface <code class="docutils literal"><span class="pre">Function</span></code> replaces several interfaces: <code class="docutils literal"><span class="pre">Mapper</span></code>, <code class="docutils literal"><span class="pre">Block</span></code>, <code class="docutils literal"><span class="pre">Retryable</span></code>, and <code class="docutils literal"><span class="pre">AsyncRetryable</span></code>.</li>
<li>Added the ability to cancel any <code class="docutils literal"><span class="pre">Future</span></code> instance, even one not backed with native resources.</li>
<li>Removed <code class="docutils literal"><span class="pre">onSuccess()</span></code> and <code class="docutils literal"><span class="pre">onFailure()</span></code> in favor of <code class="docutils literal"><span class="pre">map()</span></code> and <code class="docutils literal"><span class="pre">flatMap()</span></code>. If code needs simple triggering, <code class="docutils literal"><span class="pre">onReady()</span></code> is still available.</li>
<li>Range iteration via <code class="docutils literal"><span class="pre">Transaction.getRange(...)</span></code> starts fetching data immediately upon invocation. This simplifies development of code that reads ranges in parallel.</li>
<li>Many other changes that facilitate writing fast, efficient, and correct Java applications!</li>
</ul>
</div>
<div class="section" id="python">
<h3>Python</h3>
<ul class="simple">
<li>Python API methods that <a class="reference internal" href="../api-python.html#api-python-keys"><span class="std std-ref">accept a key</span></a> will also accept a Python object with an <code class="docutils literal"><span class="pre">as_foundationdb_key()</span></code> method that returns a key. Likewise, methods that accept a value will also accept a Python object with an <code class="docutils literal"><span class="pre">as_foundationdb_value()</span></code> method that returns a value.</li>
</ul>
</div>
<div class="section" id="performance">
<h3>Performance</h3>
<ul class="simple">
<li>Clients can preferentially communicate with servers on the same machine or in the same datacenter for <a class="reference internal" href="../api-python.html#api-python-database-options"><span class="std std-ref">location-aware load balancing</span></a>.</li>
<li>Removed from the client library debugging code included in versions up through Beta 2, leading to higher, more predictable performance.</li>
<li>Improved data distribution algorithms to optimize data movement during failure scenarios.</li>
<li>Improved range-read iterators in Node.js using lazy evaluation.</li>
<li>Improved client-side range-read prefetching in Node.js, Ruby, and Python.</li>
<li>Incrementally improved performance across all language bindings.</li>
</ul>
</div>
<div class="section" id="fixes">
<h3>Fixes</h3>
<ul class="simple">
<li>A storage node could be prevented from rejoining the cluster until the process was restarted.</li>
<li>A reverse <code class="docutils literal"><span class="pre">GetRange</span></code> request using a row limit and an end key selector that enters the system keyspace could return too few results.</li>
<li>A machine power loss immediately following a process restart could result in an invalid transaction log.</li>
<li><code class="docutils literal"><span class="pre">GetRange</span></code> could improperly cache too large a range of data when the end key selector resolved past the end of user keyspace, temporarily resulting in incorrect answers to read requests.</li>
<li>In Node.js, reusing a range iterator for a second request could result in an incomplete result set.</li>
</ul>
</div>
<div class="section" id="earlier-release-notes">
<h3>Earlier release notes</h3>
<ul class="simple">
<li><a class="reference internal" href="release-notes-022.html"><span class="doc">Beta 2 (API Version 22)</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Beta 1 (API Version 21)</span></a></li>
<li><a class="reference internal" href="release-notes-016.html"><span class="doc">Alpha 6 (API Version 16)</span></a></li>
<li><a class="reference internal" href="release-notes-014.html"><span class="doc">Alpha 5 (API Version 14)</span></a></li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/release-notes/release-notes-023.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013-2021 Apple, Inc and the FoundationDB project authors.<br/>
      Last updated on Apr 28, 2022.<br/>
    </p>
  </div>
</footer>
  </body>
</html>
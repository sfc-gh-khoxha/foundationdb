<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Release Notes &#8212; FoundationDB 7.1</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release Notes" href="release-notes-600.html" />
    <link rel="prev" title="Release Notes" href="release-notes-510.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          FoundationDB</a>
        <span class="navbar-text navbar-version pull-left"><b>7.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../contents.html">Site Map</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#id1">5.2.8</a><ul>
<li><a class="reference internal" href="#bindings">Bindings</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">5.2.7</a><ul>
<li><a class="reference internal" href="#id3">Bindings</a></li>
<li><a class="reference internal" href="#id4">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">5.2.6</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#id7">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">5.2.5</a><ul>
<li><a class="reference internal" href="#id9">Features</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#id12">Fixes</a></li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#id13">Bindings</a></li>
<li><a class="reference internal" href="#other-changes">Other Changes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="release-notes-510.html" title="Previous Chapter: Release Notes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Release Notes</span>
    </a>
  </li>
  <li>
    <a href="release-notes-600.html" title="Next Chapter: Release Notes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Release Notes &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Release Notes</a><ul>
<li><a class="reference internal" href="#id1">5.2.8</a><ul>
<li><a class="reference internal" href="#bindings">Bindings</a></li>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">5.2.7</a><ul>
<li><a class="reference internal" href="#id3">Bindings</a></li>
<li><a class="reference internal" href="#id4">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">5.2.6</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#id7">Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">5.2.5</a><ul>
<li><a class="reference internal" href="#id9">Features</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
<li><a class="reference internal" href="#id12">Fixes</a></li>
<li><a class="reference internal" href="#status">Status</a></li>
<li><a class="reference internal" href="#id13">Bindings</a></li>
<li><a class="reference internal" href="#other-changes">Other Changes</a></li>
<li><a class="reference internal" href="#earlier-release-notes">Earlier release notes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="release-notes">
<h1>Release Notes</h1>
<div class="section" id="id1">
<h2>5.2.8</h2>
<div class="section" id="bindings">
<h3>Bindings</h3>
<ul class="simple">
<li>Java: <code class="docutils literal"><span class="pre">FDBDatabase::run</span></code> and <code class="docutils literal"><span class="pre">FDBDatabase::read</span></code> now use the <code class="docutils literal"><span class="pre">Executor</span></code> provided for executing asynchronous callbacks instead of the default one for the database. <a class="reference external" href="https://github.com/apple/foundationdb/issues/640">(Issue #640)</a></li>
</ul>
</div>
<div class="section" id="fixes">
<h3>Fixes</h3>
<ul class="simple">
<li>A large number of concurrent read attempts could bring the database down after a cluster reboot. <a class="reference external" href="https://github.com/apple/foundationdb/pull/650">(PR #650)</a></li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h2>5.2.7</h2>
<div class="section" id="id3">
<h3>Bindings</h3>
<ul class="simple">
<li>The go bindings now caches database connections on a per-cluster basis. <a class="reference external" href="https://github.com/apple/foundationdb/issues/607">(Issue #607)</a></li>
</ul>
</div>
<div class="section" id="id4">
<h3>Fixes</h3>
<ul class="simple">
<li>A client could fail to connect to a cluster when the cluster was upgraded to a version compatible with the client. This affected upgrades that were using the multi-version client to maintain compatibility with both versions of the cluster. <a class="reference external" href="https://github.com/apple/foundationdb/pull/637">(PR #637)</a></li>
<li>Incorrect accounting of incompatible connections led to occasional assertion failures. <a class="reference external" href="https://github.com/apple/foundationdb/pull/637">(PR #637)</a></li>
</ul>
</div>
</div>
<div class="section" id="id6">
<h2>5.2.6</h2>
<div class="section" id="features">
<h3>Features</h3>
<ul class="simple">
<li>Improved backup error specificity regarding timeouts and active connection failures. <a class="reference external" href="https://github.com/apple/foundationdb/pull/581">(PR #581)</a></li>
</ul>
</div>
<div class="section" id="id7">
<h3>Fixes</h3>
<ul class="simple">
<li>A memory leak was fixed in connection closing. <a class="reference external" href="https://github.com/apple/foundationdb/pull/574">(PR #574)</a></li>
<li>A memory leak was fixed in the coordinator&#8217;s handling of disconnected clients. <a class="reference external" href="https://github.com/apple/foundationdb/pull/579">(PR #579)</a></li>
<li>Aligned memory allocation on MacOS was sometimes failing to allocate memory, causing a crash. <a class="reference external" href="https://github.com/apple/foundationdb/pull/547">(PR #547)</a></li>
</ul>
</div>
</div>
<div class="section" id="id8">
<h2>5.2.5</h2>
<div class="section" id="id9">
<h3>Features</h3>
<ul class="simple">
<li>Backup and DR share a single mutation log when both are being used on the same cluster. Ongoing backups will be aborted when upgrading to 5.2. <a class="reference external" href="https://github.com/apple/foundationdb/pull/3">(PR #3)</a></li>
<li>Added a TLS plugin implementation. <a class="reference external" href="https://github.com/apple/foundationdb/pull/343">(PR #343)</a></li>
<li>Backup supports HTTPS for blobstore connections. <a class="reference external" href="https://github.com/apple/foundationdb/pull/343">(PR #343)</a></li>
<li>Added the APPEND_IF_FITS atomic operation. <a class="reference external" href="https://github.com/apple/foundationdb/pull/22">(PR #22)</a></li>
<li>Updated the SET_VERSIONSTAMPED_KEY atomic operation to take four bytes to specify the offset instead of two (if the API version is set to 520 or higher). <a class="reference external" href="https://github.com/apple/foundationdb/issues/148">(Issue #148)</a></li>
<li>Updated the SET_VERSIONSTAMPED_VALUE atomic operation to place the versionstamp at a specified offset in a value (if the API version is set to 520 or higher). <a class="reference external" href="https://github.com/apple/foundationdb/issues/148">(Issue #148)</a></li>
<li>tls_verify_peers splits input using the &#8216;|&#8217; character. [5.2.4] <a class="reference external" href="https://github.com/apple/foundationdb/pull/468">(PR #468)</a></li>
<li>Added knobs and blob Backup URL parameters for operations/sec limits by operation type. [5.2.5] <a class="reference external" href="https://github.com/apple/foundationdb/pull/513">(PR #513)</a></li>
</ul>
</div>
<div class="section" id="performance">
<h3>Performance</h3>
<ul class="simple">
<li>Improved backup task prioritization. <a class="reference external" href="https://github.com/apple/foundationdb/pull/71">(PR #71)</a></li>
</ul>
</div>
<div class="section" id="id12">
<h3>Fixes</h3>
<ul class="simple">
<li>The client did not clear the storage server interface cache on endpoint failure for all request types. This causes up to one second of additional latency on the first get range request to a rebooted storage server. <a class="reference external" href="https://github.com/apple/foundationdb/issues/351">(Issue #351)</a></li>
<li>Client input validation would handle inputs to versionstamp mutations incorrectly if the API version was less than 520. [5.2.1] <a class="reference external" href="https://github.com/apple/foundationdb/issues/387">(Issue #387)</a></li>
<li>Build would fail on recent versions of Clang. [5.2.2] <a class="reference external" href="https://github.com/apple/foundationdb/pull/389/files">(PR #389)</a></li>
<li>Clusters running with TLS plugin would reject clients using non-server certificates. [5.2.2] <a class="reference external" href="https://github.com/apple/foundationdb/pull/396">(PR #396)</a></li>
<li>Backup would attempt to clear too many ranges in a single transaction when erasing log ranges. [5.2.3] <a class="reference external" href="https://github.com/apple/foundationdb/pull/440">(PR #440)</a></li>
<li>A read-only transaction using the <code class="docutils literal"><span class="pre">READ_LOCK_AWARE</span></code> option would fail if committed. [5.2.3] <a class="reference external" href="https://github.com/apple/foundationdb/pull/437">(PR #437)</a></li>
<li>fdbcli kill command did not work when TLS was enabled. [5.2.4] <a class="reference external" href="https://github.com/apple/foundationdb/pull/471">(PR #471)</a></li>
<li>Don&#8217;t disable certificate checks by default. [5.2.5] <a class="reference external" href="https://github.com/apple/foundationdb/pull/511">(PR #511)</a></li>
</ul>
</div>
<div class="section" id="status">
<h3>Status</h3>
<ul class="simple">
<li>Available space metrics for the memory storage engine take into account both memory and disk. <a class="reference external" href="https://github.com/apple/foundationdb/pull/41">(PR #41)</a></li>
<li>Added metrics for read bytes per second and read keys per second. <a class="reference external" href="https://github.com/apple/foundationdb/pull/303">(PR #303)</a></li>
</ul>
</div>
<div class="section" id="id13">
<h3>Bindings</h3>
<ul class="simple">
<li>API version updated to 520. See the <a class="reference internal" href="../api-version-upgrade-guide.html#api-version-upgrade-guide-520"><span class="std std-ref">API version upgrade guide</span></a> for upgrade details.</li>
<li>Java and Python: Versionstamp packing methods within tuple class now add four bytes for the offset instead of two if the API version is set to 520 or higher. <a class="reference external" href="https://github.com/apple/foundationdb/issues/148">(Issue #148)</a></li>
<li>Added convenience methods to determine if an API version has been set. <a class="reference external" href="https://github.com/apple/foundationdb/pull/72">(PR #72)</a></li>
<li>Go: Reduce memory allocations when packing tuples. <a class="reference external" href="https://github.com/apple/foundationdb/pull/278">(PR #278)</a></li>
<li>Python: Correctly thread the versionstamp offset when there are incomplete versionstamps within nested tuples. <a class="reference external" href="https://github.com/apple/foundationdb/issues/356">(Issue #356)</a></li>
<li>Java: Length in <code class="docutils literal"><span class="pre">Tuple.fromBytes</span></code> is now honored if specified. <a class="reference external" href="https://github.com/apple/foundationdb/issues/362">(Issue #362)</a></li>
</ul>
</div>
<div class="section" id="other-changes">
<h3>Other Changes</h3>
<ul class="simple">
<li>Deprecated the read_ahead_disable option. The commit_on_first_proxy, debug_dump, and check_writes_enable options are no longer exposed through the bindings. <a class="reference external" href="https://github.com/apple/foundationdb/pull/134">(PR #134)</a></li>
</ul>
</div>
<div class="section" id="earlier-release-notes">
<h3>Earlier release notes</h3>
<ul class="simple">
<li><a class="reference internal" href="release-notes-510.html"><span class="doc">5.1 (API Version 510)</span></a></li>
<li><a class="reference internal" href="release-notes-500.html"><span class="doc">5.0 (API Version 500)</span></a></li>
<li><a class="reference internal" href="release-notes-460.html"><span class="doc">4.6 (API Version 460)</span></a></li>
<li><a class="reference internal" href="release-notes-450.html"><span class="doc">4.5 (API Version 450)</span></a></li>
<li><a class="reference internal" href="release-notes-440.html"><span class="doc">4.4 (API Version 440)</span></a></li>
<li><a class="reference internal" href="release-notes-430.html"><span class="doc">4.3 (API Version 430)</span></a></li>
<li><a class="reference internal" href="release-notes-420.html"><span class="doc">4.2 (API Version 420)</span></a></li>
<li><a class="reference internal" href="release-notes-410.html"><span class="doc">4.1 (API Version 410)</span></a></li>
<li><a class="reference internal" href="release-notes-400.html"><span class="doc">4.0 (API Version 400)</span></a></li>
<li><a class="reference internal" href="release-notes-300.html"><span class="doc">3.0 (API Version 300)</span></a></li>
<li><a class="reference internal" href="release-notes-200.html"><span class="doc">2.0 (API Version 200)</span></a></li>
<li><a class="reference internal" href="release-notes-100.html"><span class="doc">1.0 (API Version 100)</span></a></li>
<li><a class="reference internal" href="release-notes-023.html"><span class="doc">Beta 3 (API Version 23)</span></a></li>
<li><a class="reference internal" href="release-notes-022.html"><span class="doc">Beta 2 (API Version 22)</span></a></li>
<li><a class="reference internal" href="release-notes-021.html"><span class="doc">Beta 1 (API Version 21)</span></a></li>
<li><a class="reference internal" href="release-notes-016.html"><span class="doc">Alpha 6 (API Version 16)</span></a></li>
<li><a class="reference internal" href="release-notes-014.html"><span class="doc">Alpha 5 (API Version 14)</span></a></li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/release-notes/release-notes-520.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013-2021 Apple, Inc and the FoundationDB project authors.<br/>
      Last updated on Apr 28, 2022.<br/>
    </p>
  </div>
</footer>
  </body>
</html>